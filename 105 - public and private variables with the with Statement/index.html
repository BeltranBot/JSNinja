<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Public and private variables with the with Statement</title>
	<link rel="stylesheet" href="../assets/css/styles.css">
	<script src="../assets/js/asserts.js"></script>
</head>
<body>
	<script>
		function Ninja(){
			with(this){
				// Private Information
				var cloaked = false;
				// Public property
				this.swings = 0;

				// Private Method
				function addSwing(){
					return ++swings;
				}
				// Public Methods
				this.swingSword = function(){
					cloak( false );
					return addSwing();
				};
				this.cloak = function(value){
					return value != null ?
							 	 cloaked = value :
							 	 cloaked;
				};
			}
		}
		
		var ninja = new Ninja();
		assert( !ninja.cloak(), "We start out uncloaked." );
		assert( ninja.swings == 0, "And with no sword swings." );
		assert( ninja.cloak( true ),
		"Verify that the cloaking worked correctly." );
		assert( ninja.swingSword() == 1, "Swing the sword, once." );
		assert( !ninja.cloak(),
		"The ninja became uncloaked with the sword swing." );

	</script>
</body>
</html>